<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Special Wishes ðŸŽ‰</title>

<style>
  :root{
    --bg1:#0f2027;--bg2:#203a43;--bg3:#2c5364;
    --card:rgba(255,255,255,.12);
    color:white;
  }

  body.light{
    --bg1:#ffecd2;--bg2:#fcb69f;--bg3:#ffdde1;
    --card:rgba(255,255,255,.75);
    color:#222;
  }

  body.black{
    background:#000;
    color:white;
  }

  body{
    margin:0;
    height:100vh;
    overflow:hidden;
    background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
    font-family:"Segoe UI",sans-serif;
  }

  /* ðŸŒŸ Lights */
  .lights{
    position:fixed;top:0;width:100%;
    display:flex;justify-content:space-around;
    z-index:5;
  }
  .bulb{
    width:14px;height:14px;border-radius:50%;
    animation:blink 1.5s infinite alternate;
  }
  .bulb:nth-child(odd){animation-delay:.6s;}
  @keyframes blink{
    from{opacity:.3;}
    to{opacity:1;box-shadow:0 0 15px currentColor;}
  }

  /* ðŸŽŠ Card */
  .card{
    position:relative;z-index:10;
    background:var(--card);
    backdrop-filter:blur(12px);
    padding:40px 50px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 0 40px rgba(0,0,0,.3);
    animation:pop 1s ease;
    top:28%;margin:auto;width:fit-content;
  }
  @keyframes pop{
    from{transform:scale(.6);opacity:0;}
    to{transform:scale(1);opacity:1;}
  }

  h1{font-size:2.4em;margin-bottom:10px;}
  p{font-size:1.2em;}

  /* ðŸŽµ Music button */
  .music-btn{
    position:fixed;bottom:20px;right:20px;
    background:#ff4081;border:none;border-radius:50%;
    padding:14px 16px;font-size:18px;
    cursor:pointer;color:white;
    z-index:20;
  }

  /* ðŸŽ‰ Emoji falling */
  .fall{
    position:fixed;top:-10px;
    font-size:20px;
    animation:fall linear infinite;
    z-index:1;
  }
  @keyframes fall{
    to{transform:translateY(110vh) rotate(360deg);}
  }

  /* ðŸ“„ Papers */
  .paper{
    position:fixed;top:-20px;
    width:12px;height:18px;
    opacity:.9;z-index:2;
    animation:paperFall linear infinite;
  }
  @keyframes paperFall{
    to{transform:translateY(110vh) rotate(360deg);}
  }

  /* âœ¨ Sparkles */
  .sparkle{
    position:fixed;pointer-events:none;
    animation:spark .8s ease-out forwards;
  }
  @keyframes spark{
    from{transform:scale(1);opacity:1;}
    to{transform:scale(3);opacity:0;}
  }

  /* ðŸŽ† Fireworks */
  #fireworks{
    position:fixed;top:0;left:0;
    width:100vw;height:100vh;
    z-index:0;pointer-events:none;
  }
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<div class="lights">
  <div class="bulb" style="background:red"></div>
  <div class="bulb" style="background:yellow"></div>
  <div class="bulb" style="background:cyan"></div>
  <div class="bulb" style="background:lime"></div>
  <div class="bulb" style="background:pink"></div>
  <div class="bulb" style="background:orange"></div>
</div>

<div class="card">
  <h1 id="title"></h1>
  <p id="msg"></p>
</div>

<button class="music-btn" onclick="toggleMusic()">ðŸŽµ</button>
<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/10/26/audio_946b5a3a65.mp3">
</audio>

<script>
const params = new URLSearchParams(location.search);
const name = params.get("name") || "Friend";
const type = params.get("type");
const theme = params.get("theme");
const fx = (params.get("fx")||"").split(",");

/* ðŸŒˆ Themes */
if(theme==="light"||theme==="white") document.body.classList.add("light");
if(theme==="black") document.body.classList.add("black");

/* ðŸŽ‚ Messages */
let title=`Hey ${name} ðŸŽ‰`;
let msg="Wishing you happiness, success & endless smiles ðŸ˜Žâœ¨";

if(type==="birthday"){
  title=`Happy Birthday ${name} ðŸŽ‚`;
  msg="May your day be filled with cake, joy & surprises ðŸŽ‰ðŸ’–";
}
if(type==="newyear"){
  title=`Happy New Year ${name} ðŸŽŠ`;
  msg="New year, new goals, new victories ðŸš€âœ¨";
}

titleEl=document.getElementById("title");
msgEl=document.getElementById("msg");
titleEl.innerText=title;
msgEl.innerText=msg;

/* ðŸŽ‰ Emoji falling */
const emojis=["ðŸŽŠ","ðŸŽ‰","âœ¨","ðŸŒ¸","ðŸ’¥","ðŸ€"];
setInterval(()=>{
  const e=document.createElement("div");
  e.className="fall";
  e.innerText=emojis[Math.random()*emojis.length|0];
  e.style.left=Math.random()*100+"vw";
  e.style.animationDuration=3+Math.random()*4+"s";
  e.style.fontSize=16+Math.random()*26+"px";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),8000);
},200);

/* ðŸ“„ Papers */
function paper(){
  const p=document.createElement("div");
  p.className="paper";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDuration=4+Math.random()*5+"s";
  const colors=["#fff","#ffeb3b","#ff80ab","#80d8ff","#b9f6ca"];
  p.style.background=colors[Math.random()*colors.length|0];
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),10000);
}
if(fx.includes("papers")) setInterval(paper,300);

/* âœ¨ Sparkles */
document.addEventListener("touchstart",e=>{
  const s=document.createElement("div");
  s.className="sparkle";
  s.innerText="âœ¨";
  s.style.left=e.touches[0].clientX+"px";
  s.style.top=e.touches[0].clientY+"px";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),800);
});

/* ðŸŽµ Music */
const music=document.getElementById("bgm");
function toggleMusic(){music.paused?music.play():music.pause();}
document.addEventListener("click",()=>music.play(),{once:true});

/* ðŸŽ† Fireworks */
if(fx.includes("fireworks")){
  const c=document.getElementById("fireworks");
  const ctx=c.getContext("2d");
  const resize=()=>{c.width=innerWidth;c.height=innerHeight};
  resize();addEventListener("resize",resize);

  const ps=[];
  function launch(){
    const x=Math.random()*c.width;
    const y=Math.random()*c.height*.5;
    const col=`hsl(${Math.random()*360},100%,60%)`;
    for(let i=0;i<40;i++)
      ps.push({x,y,a:Math.random()*6.28,s:Math.random()*5+2,o:1,c:col});
  }

  function anim(){
    ctx.fillStyle="rgba(0,0,0,.2)";
    ctx.fillRect(0,0,c.width,c.height);
    for(let i=ps.length-1;i>=0;i--){
      const p=ps[i];
      p.x+=Math.cos(p.a)*p.s;
      p.y+=Math.sin(p.a)*p.s;
      p.o-=.02;
      if(p.o<=0){ps.splice(i,1);continue;}
      ctx.globalAlpha=p.o;
      ctx.fillStyle=p.c;
      ctx.beginPath();ctx.arc(p.x,p.y,2,0,6.28);ctx.fill();
    }
    ctx.globalAlpha=1;
    requestAnimationFrame(anim);
  }
  setInterval(launch,900);
  anim();
}
</script>

</body>
</html>
